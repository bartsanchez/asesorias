{% extends "asesorias/Base/base_org_institucional.html" %}

{% block content %}

	<h1>Lista de asignaturas.</h1>

	<a href="{% url addAsignatura %}" class="addlink">Crear nuevo</a>
	<a href="{% url generarPDFListaAsignaturas %}" class="pdflink">Generar PDF</a>

	<div class="search">

		<form action="" method="post">

			<div class="fieldWrapper">
				<table summary="Realizar búsqueda.">
				{% for field in form %}
				<tr>
					<th scope="row"><input type="submit" value="Búsqueda" class="searchlink"/></th>
					<td>{{ field }}</td>
				</tr>
				{% endfor %}
				</table>
			</div>

		</form>

	</div>

	<div class="module">
		<table summary="Lista de asignaturas.">
		<caption><h2>Lista de asignaturas{% if busqueda %} (Filtro = {{ busqueda }}){% endif %}</h2></caption>

		{% if not lista_asignaturas %}

		<tr><th scope="row"><p>No existen actualmente asignaturas en el sistema.</p></th></tr>

		{% else %}

		{% if not busqueda %}
		<tr>
			{% ifequal orden '_nombre_centro' %}
			<th colspan="3"><a href={% url listAsignatura 'nombre_centro' %}>Centro &#11014;</a> : <a href={% url listAsignatura 'nombre_titulacion' %}>Titulación</a> : <a href={% url listAsignatura 'nombre_asignatura' %}>Asignatura</a> : <a href={% url listAsignatura 'plan_estudios' %}>Plan estudios</a></th>
			{% else %}
				{% ifequal orden 'nombre_titulacion' %}
				<th colspan="3"><a href={% url listAsignatura 'nombre_centro' %}>Centro</a> : <a href={% url listAsignatura '_nombre_titulacion' %}>Titulación &#11015;</a> : <a href={% url listAsignatura 'nombre_asignatura' %}>Asignatura</a> : <a href={% url listAsignatura 'plan_estudios' %}>Plan estudios</a></th>
				{% else %}
					{% ifequal orden '_nombre_titulacion' %}
					<th colspan="3"><a href={% url listAsignatura 'nombre_centro' %}>Centro</a> : <a href={% url listAsignatura 'nombre_titulacion' %}>Titulación &#11014;</a> : <a href={% url listAsignatura 'nombre_asignatura' %}>Asignatura</a> : <a href={% url listAsignatura 'plan_estudios' %}>Plan estudios</a></th>
					{% else %}
						{% ifequal orden 'nombre_asignatura' %}
						<th colspan="3"><a href={% url listAsignatura 'nombre_centro' %}>Centro</a> : <a href={% url listAsignatura 'nombre_titulacion' %}>Titulación</a> : <a href={% url listAsignatura '_nombre_asignatura' %}>Asignatura &#11015;</a> : <a href={% url listAsignatura 'plan_estudios' %}>Plan estudios</a></th>
						{% else %}
							{% ifequal orden '_nombre_asignatura' %}
							<th colspan="3"><a href={% url listAsignatura 'nombre_centro' %}>Centro</a> : <a href={% url listAsignatura 'nombre_titulacion' %}>Titulación</a> : <a href={% url listAsignatura 'nombre_asignatura' %}>Asignatura &#11014;</a> : <a href={% url listAsignatura 'plan_estudios' %}>Plan estudios</a></th>
							{% else %}
								{% ifequal orden 'plan_estudios' %}
								<th colspan="3"><a href={% url listAsignatura 'nombre_centro' %}>Centro</a> : <a href={% url listAsignatura 'nombre_titulacion' %}>Titulación</a> : <a href={% url listAsignatura 'nombre_asignatura' %}>Asignatura</a> : <a href={% url listAsignatura '_plan_estudios' %}>Plan estudios &#11015;</a></th>
								{% else %}
									{% ifequal orden '_plan_estudios' %}
									<th colspan="3"><a href={% url listAsignatura 'nombre_centro' %}>Centro</a> : <a href={% url listAsignatura 'nombre_titulacion' %}>Titulación</a> : <a href={% url listAsignatura 'nombre_asignatura' %}>Asignatura</a> : <a href={% url listAsignatura 'plan_estudios' %}>Plan estudios &#11014;</a></th>
									{% else %}
										<th colspan="3"><a href={% url listAsignatura '_nombre_centro' %}>Centro &#11015;</a> : <a href={% url listAsignatura 'nombre_titulacion' %}>Titulación</a> : <a href={% url listAsignatura 'nombre_asignatura' %}>Asignatura</a> : <a href={% url listAsignatura 'plan_estudios' %}>Plan estudios</a></th>
									{% endifequal %}
								{% endifequal %}
							{% endifequal %}
						{% endifequal %}
					{% endifequal %}
				{% endifequal %}
			{% endifequal %}
		</tr>
		{% endif %}

		{% for asignatura in lista_asignaturas %}
		<tr>
			<th scope="row"><a href="{% url editAsignatura asignatura.determinarNombreCentro asignatura.determinarNombreTitulacion asignatura.determinarPlanEstudios asignatura.nombre_asignatura %}">{{ asignatura }}</a></th>
			<td><a href="{% url editAsignatura asignatura.determinarNombreCentro asignatura.determinarNombreTitulacion asignatura.determinarPlanEstudios asignatura.nombre_asignatura %}" class="editlink">Editar</a></td>
			<td><a href="{% url delAsignatura asignatura.determinarNombreCentro asignatura.determinarNombreTitulacion asignatura.determinarPlanEstudios asignatura.nombre_asignatura %}" class="deletelink">Eliminar</a></td>
		</tr>
		{% endfor %}

		{% endif %}

		</table>
	</div>

{% endblock %}
